<!-- File: src/app/features/ships/ships-list.page.html -->
<ion-content>
  <!-- Hero Section -->
  <section class="hero">
    <app-starfield-background></app-starfield-background>
    <div class="hero-inner">
      <h1 class="hero-title">Explore the Fleet</h1>
      <p class="hero-subtitle">Discover Voran Defense vessels and stations</p>
    </div>
  </section>

  <!-- Content Section -->
  <section class="section">
    <div class="section-container">
      <h2 class="section-title">Browse Catalog</h2>

      <div class="filters">
        <ion-select label="Class" interface="popover" (ionChange)="classFilter.set($event.detail.value||'')">
          <ion-select-option value="">All Classes</ion-select-option>
          @for (c of classes; track c) {
            <ion-select-option [value]="c">{{c}}</ion-select-option>
          }
        </ion-select>

        @if (classFilter() !== null && classFilter() !== '') {
          <button class="reset-filter" (click)="classFilter.set('')" type="button">
            Reset
          </button>
        }
      </div>

      <div class="grid">
        @for (s of list(); track s.id) {
          <vds-card
            [title]="s.name"
            [code]="s.code"
            [series]="s.series"
            [summary]="s.summary"
            [tags]="tagsOf(s)"
            [thumbnail]="s.thumbnail || s.heroImage"
            [to]="'/ships/'+s.id">
          </vds-card>
        }
      </div>

      @if (list().length === 0) {
        <div class="empty-state">
          <p>No ships found matching your filter.</p>
          <button class="btn btn-secondary" (click)="classFilter.set('')" type="button">
            Clear Filters
          </button>
        </div>
      }
    </div>
  </section>
</ion-content>
